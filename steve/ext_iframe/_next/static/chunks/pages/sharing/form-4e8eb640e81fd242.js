(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[615,959],{46134:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return eU},default:function(){return eM}});var i,r=n(59499),o=n(50029),a=n(87794),s=n.n(a),l=n(2784),d=n(79665),c=n(71346),u=n.n(c),p=n(5152),f=n.n(p),m=n(64839),h=n(72151),g=n(17635),b=n(35505);n(98346);var v=n(73977),y=n(58086);n(26031);var x,w=n(12283),j=n(99645),_=n(36646),O=n(13613),P=n(254),C=n(4029),E=n(38455),I=n(25413),T=n(92777),S=n(82262),k=n(10748),R=n(81531),A=n(63553),D=n(37247),L=n(17160),N=n.n(L),F=n(97202),V=n(60336),q=n(94629),U=n(69852),M=n(28599),B=n(41349),Z=n(77191),G=n(57615),W=n(76635),H=n(31079),z=n(25286),Q=n(49209),X=n(40906),K=n(10137),Y=n(55880),J=n(47216),$=n(22117),ee=n(36703),et={WAITING:"waiting",LISTENING:"listening",THINKING:"thinking",COMPLETE:"complete",CONNECTING:"connecting"},en=function(e){var t=e.onHandleErrors,n=e.onHandleComplete,i=e.contactToken,r=e.stream,o=e.categories,a=e.questionId,s=e.keywordMatching,d=e.transcriptionLocale,c=e.timeLimit,u=(0,l.useRef)(),p=(0,l.useRef)(),f=(0,ee.s)({socketAddress:(0,j.vd)(),questionId:a,contactToken:i}),m=f.message,h=f.error,g=f.readyState,b=f.sendMessage,v=f.isPreview,y=(0,$.k)(r,g===ee.k.OPEN),x=y.pause,w=y.sampleRate,_=y.samples,O=y.audioState,P=(0,l.useState)(et.WAITING),C=P[0],E=P[1],I=(0,l.useState)(null),T=I[0],S=I[1],k=(0,l.useCallback)(function(){C!==et.COMPLETE&&(clearTimeout(null==p?void 0:p.current),b({action:"streaming:stop"}),x(),E(et.THINKING),clearTimeout(null==u?void 0:u.current),u.current=setTimeout(function(){n({final:{transcript:{transcript:""},predicted:[]}})},5e3))},[b,x,E,n]);return(0,l.useEffect)(function(){var e;h&&(e=h),O===$.Z.NONE&&(e=new J.ee("No audio data received","RECORDING")),g===ee.k.CLOSED&&(e=Error("Socket closed (please refresh)")),e&&t(e)},[t,h,O,g]),(0,l.useEffect)(function(){w&&(p.current=setTimeout(k,c),b({action:"streaming:setup",labels:o,sampleRate:w,keywordMatching:s,languageCode:d}),E(et.LISTENING))},[b,E,k,o,w,d,s]),(0,l.useEffect)(function(){_&&b(_,!0)},[b,_]),(0,l.useEffect)(function(){if(m){var e=m.end,t=m.final,i=m.transcript,r=m.predicted,a=(null==i?void 0:i.transcript)||"";if(""!==a&&S(a),(e||t)&&k(),t){if(E(et.COMPLETE),v){n({final:{transcript:{transcript:""},predicted:[o[Math.floor(Math.random()*o.length)]]}});return}n({final:{transcript:i,predicted:r}})}}},[n,k,E,m,v,o]),(0,l.useEffect)(function(){return function(){clearTimeout(null==u?void 0:u.current),clearTimeout(null==p?void 0:p.current)}}),{stopStreaming:k,captionText:T,status:C}},ei=n(52322),er=function(e){var t,n,i,r=e.onError,o=e.branding,a=e.categories,s=e.onSubmit,d=e.questionId,c=e.onPauseVideo,u=e.customFallback,p=e.keywordMatching,f=e.onStream,m=e.contactToken,h=e.transcriptionLocale,g=e.isLargeViewport,b=e.isSingleAnswerType,v=e.onCancel,y=(0,l.useReducer)(Y.I6,Y.E3),x=y[0],j=y[1],_=(0,Q.w)(),O=_.stop,P=_.init,C=_.mediaDevices;(0,l.useEffect)(function(){C.devicesError&&(r({audioDevices:C.audioDevices,error:C.devicesError,displayType:"RECORDING",hideUpload:!0,isAudio:!0,onTrackEvent:function(){}}),j({type:Y.Hp.PERMISSIONS_FAILURE,error:C.devicesError}))},[C.devicesError,r,C.audioDevices]);var I=function(e){r({error:e,displayType:(null==e?void 0:e.type)||"DEFAULT",children:(0,ei.jsx)("p",{children:e.message}),hideStatusLink:!0,onTrackEvent:function(){}}),j({type:Y.Hp.ERROR,error:e})},T=(0,l.useCallback)(function(){if(f)return f("text");c(),j({type:Y.Hp.CTA_BEGIN}),P({video:!1,audio:{googEchoCancellation:!1,googAutoGainControl:!1,googNoiseSuppression:!1,googHighpassFilter:!1,channelCount:1}})},[c,P,f,r,o]),S=(0,l.useCallback)(function(e){var t;O(),((null==e?void 0:null===(t=e.final)||void 0===t?void 0:t.predicted)||[]).length||u?j({type:Y.Hp.COMPLETE,data:e}):j({type:Y.Hp.COMPLETE})},[s,u,O]),k=function(){x.data&&(s((0,E.OMT)(x.data.final)),j({type:Y.Hp.COMPLETE,data:x.data.final}))};(0,l.useEffect)(function(){C.localStream&&(r(null),j({type:Y.Hp.PERMISSIONS_SUCCESS}))},[C.localStream,r]);var R=function(e){j({type:Y.Hp.RETRY}),v(e,!0)},A=en({onHandleErrors:I,onHandleComplete:S,contactToken:m,stream:C.localStream,categories:a,questionId:d,keywordMatching:p,transcriptionLocale:h,timeLimit:2e4}).stopStreaming,D=function(){j({type:Y.Hp.PROCESS}),A()};return x.step!==Y.S6.COMPLETE||((null===(n=x.data)||void 0===n?void 0:null===(i=n.final)||void 0===i?void 0:i.predicted)||[]).length?(0,ei.jsx)(J.hn,{allowedAnswerMediaTypes:[H.AUDIO],branding:o,disableWebRTCTearDown:!0,hideCancelButton:b,isAIChatbot:!0,isAIProcessing:!(null!=x&&null!==(t=x.data)&&void 0!==t&&t.final)&&x.step===Y.S6.PROCESSING,isLargeViewport:g,isRespondent:!0,onCancel:function(){return R(b?H.VOICE:void 0)},onStartRecording:T,onStop:D,onSubmit:k,timeLimit:2e4}):(0,ei.jsx)(ea,{children:(0,ei.jsxs)(es,{children:[(0,ei.jsx)(w.Eb,{assetId:"form-page.voice-not_understood"}),(0,ei.jsx)(X.Av,{onClick:function(){return R(H.VOICE)},children:(0,ei.jsx)(w.Eb,{assetId:"form-page.voice-try_again"})})]})})},eo=((0,K.I)((0,l.memo)(er)),n(83576)),ea=(x=(0,o.Z)(s().mark(function e(t,n,i){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,F.WY)("".concat((0,eo.kG)(),"/questions/").concat(t,"/predict"),{method:"POST",headers:{Authorization:"Bearer ".concat(i)},json:n}).catch(function(e){throw console.error(e),(0,P.BQ)("[AI - TEXT PREDICTION] ".concat(e.name),e),e}));case 1:case"end":return e.stop()}},e)})),n(80173),n(62389),b.ZP.div.withConfig({displayName:"AIChatbot__ActionsRow",componentId:"sc-1haq175-0"})(["align-items:center;display:flex;justify-content:center;width:100%;"]),b.ZP.div.withConfig({displayName:"AIChatbot__Wrapper",componentId:"sc-1haq175-1"})(["align-items:center;display:flex;flex-direction:column;height:100%;justify-content:center;pointer-events:auto;position:relative;svg{pointer-events:none;position:absolute;@media (max-width:1023px){max-width:130px;max-height:130px;}}@media (max-width:1023px){margin-bottom:0;position:absolute;}"])),es=b.ZP.div.withConfig({displayName:"AIChatbot__Fallback",componentId:"sc-1haq175-2"})(["align-items:center;animation:"," 0.2s ease-out;color:",";display:flex;flex-direction:column;font-size:16px;font-weight:400;justify-content:center;line-height:120%;text-align:center;width:40vw;button{margin-top:32px;max-width:200px;}"],y.Uo,function(e){return e.theme.foreground}),el=n(11022),ed=n(52959);function ec(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function eu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ec(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ec(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ep=function(e){var t=e.t,n=e.questionOrMessage,i=e.mediaPlayerProps,r=e.branding,a=e.isDataCollectionDisabled,d=e.isLargeViewport,c=e.globalTimeLimit,u=e.shouldAutoSelectKind,p=void 0!==u&&u,f=e.hideBranding,m=e.hideUpload,h=e.hideScreenshare,g=e.answerRevealDelayTime,b=e.textRevealDelayTime,v=e.textFadeDelayTime,x=e.percentComplete,j=e.videoFirst,O=e.audioFirst,C=e.darkText,I=e.justVideo,T=e.forceRecTime,S=e.buttonRadius,k=e.isFullscreen,R=e.contactId,A=e.affiliateID,D=e.removeFileLimit,L=e.contactInfo,N=e.contactToken,F=e.children,V=e.liveRecording,q=e.stripeConnectedAccount,M=e.onSubmit,B=e.hideCaptionsPrePlayback,G=e.hidePlay,Q=e.onUnmute,X=void 0===Q?function(){return null}:Q,K=e.transcriptionLocale,Y=e.theme,J=e.teamAvailability,$=(e.form,e.isLivePreview),ee=(0,l.useState)(null),et=ee[0],en=ee[1],er=(0,l.useState)(!1),eo=er[0],ea=er[1],es=(0,l.useState)(!1),ec=es[0],ep=es[1],ef=(0,l.useState)(!1),em=ef[0],eh=ef[1],eg=(0,l.useState)(!1),eb=eg[0],ev=eg[1],ey=(0,l.useState)(null),ex=ey[0],ew=ey[1],ej=(0,l.useState)(!!g),e_=ej[0],eO=ej[1],eP=(0,l.useState)(null),eC=eP[0],eE=eP[1],eI=(0,l.useState)(!1),eT=eI[0],eS=eI[1],ek=(0,l.useState)(!1),eR=ek[0],eA=ek[1],eD=(0,l.useState)(!1),eL=eD[0],eN=eD[1],eF=(0,l.useState)(null),eV=eF[0],eq=eF[1],eU=(0,U.ib)(n),eM=function(e){},eB=function(e){en(null),ea(!1),ep(!1),eh(!1),eO(!!e),eA(!1),eS(!1)},eZ=n.allowed_answer_media_types,eG=void 0===eZ?[H.VIDEO,H.AUDIO,H.TEXT]:eZ,eW=n.poll_options,eH=n.metadata;(0,l.useEffect)((0,o.Z)(s().mark(function e(){var t,n;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(d&&p&&1===eG.length)){e.next=13;break}if(eG[0]!==H.VIDEO){e.next=8;break}return e.next=4,(0,E.$pD)();case 4:e.sent&&en(H.VIDEO),e.next=13;break;case 8:if(eG[0]!==H.AUDIO){e.next=13;break}return e.next=11,(0,E.qjW)();case 11:e.sent&&en(H.AUDIO);case 13:case"end":return e.stop()}},e)})),[d,p,eG]),(0,z.v)({answerRevealDelayTime:g,poll_options:eW},function(e){g!==e.answerRevealDelayTime&&eB(g)});var ez,eQ,eX,eK,eY,eJ,e$,e0,e1,e2,e3,e5,e6,e4,e8,e7,e9,te,tt,tn,ti,tr,to,ta,ts,tl,td,tc,tu,tp,tf,tm,th,tg=l.createRef(),tb=(0,l.useMemo)(function(){return{25:!1,50:!1,75:!1}},[]),tv=function(){var e,t=eW||[];return(null===(e=n.metadata)||void 0===e?void 0:e.randomize_poll_options)?(0,W.shuffle)(t):t},ty=(0,l.useMemo)(function(){return tv()},[eW,null==eH?void 0:eH.randomize_poll_options]),tx=function(){if(et===H.LIVE_CALL)return et;var e=(0,U.Gu)(n);return 1===eG.length&&[H.TEXT,H.NUMBER].includes(eG[0])&&e!==H.CALENDAR?eG[0]:et&&eG.includes(et)?et:null},tw=function(){var e=tx(),t=!d&&(ec||i.text||(0,E.x3E)(null==i?void 0:i.mediaUrl)||em);return{isQuestionSectionVisible:!!d||!F&&(!eo||!e),isAnswerSectionVisible:!!d||!!F||!(!eo||!e),areMobileActionsVisible:t}},tj=function(){null!=tg&&tg.current&&null!=tg&&tg.current.getWrappedInstance&&tg.current.getWrappedInstance().pause(!0)},t_=function(e){d||tj(),ea(!0),en(e)},tO=function(e){return eq(e)},tP=function(){return tj()},tC=function(){ea(!0),en(null)},tE=function(e){return ev(e)},tI=function(e){return ew(e.target.value)},tT=function(){X(),ep(!0)},tS=function(){eh(!0)},tk=function(e,t){e>=t&&!tb[t]&&ec&&(tb[t]=!0,a||(0,P.Az)({event:"watch_video_".concat(t),contactId:R,contactToken:N,form_id:n.form_id,step_id:n.question_id,step_type:H.QUESTION}))},tR=function(e,t){if(!t||!e)return null;tk(e/t*100,75)},tA=function(){eO(!1)},tD=function(e,t){var i=n.media_url,r=(0,E.JcE)(i);if(R&&t&&tR(e,t),!g)return null;(!r||(ec||em)&&e_)&&(e>g?eO(!1):eE(Math.round(g-e)))},tL=function(e){var t=((0,Z.Z)(i),i),n=t.textRevealDelayTime,r=t.textFadeDelayTime;if(!em){if(n>0){eS(!1),eA(!1);return}eS(!1),eA(!0);return}if((!n||e>n)&&(!r||e<r+1)){eS(!1),eA(!0);return}eR&&(eS(!0),eA(!1))},tN=function(e){return eN(e)},tF=function(){var e;return(0,ei.jsx)(_.CGj,{allowMultipleSelection:n.allow_multiple_selection,buttonRadius:S,disabled:e_,isPollTipActive:null===(e=n.metadata)||void 0===e?void 0:e.poll_tip,onSubmit:M,pollOptions:ty,reducedBottomPadding:eL})},tV=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isOverlay,i=n.metadata,r=(i=void 0===i?{}:i).left_label,o=i.right_label,a=i.disable_nps_labels;return(0,ei.jsx)(_.lwy,{disableLabels:a,disabled:e_,isBlack:C,isFullscreen:k,isOverlay:t,npsLeftLabel:r,npsRightLabel:o,onSubmit:M})},tq=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isLargeViewport,i=((0,Z.Z)(n),n).metadata.file_upload_cta_label;return(0,ei.jsx)(_.p0f,{contactToken:N,fileUploadCtaLabel:i,isDataCollectionDisabled:a,isLargeViewport:t,onSubmit:M,questionId:n.question_id,removeFileLimit:D})},tU=function(){var e=n.metadata,t=(e=void 0===e?{}:e).button_label;return(0,ei.jsx)(y.LE,{buttonRadius:S,disabled:e_,isLong:!0,label:t,onClick:function(){return M({type:H.BUTTON})}})},tM=function(){return eG.length?null!==tx()?null:1===eG.length?(0,ei.jsxs)(ei.Fragment,{children:[(0,ei.jsxs)(el.GH,{children:[eG[0]===H.VIDEO&&(0,ei.jsx)(y.LE,{buttonRadius:S,"data-qa":"video-button",disabled:e_,icon:(0,ei.jsx)(y.rV,{}),isLong:!0,label:(0,ei.jsx)(w.Eb,{assetId:"form-page.actions.long-video-type"}),onClick:function(){return t_(H.VIDEO)}}),eG[0]===H.AUDIO&&(0,ei.jsx)(y.LE,{buttonRadius:S,"data-qa":"audio-button",disabled:e_,icon:(0,ei.jsx)(y.f4,{}),isLong:!0,label:(0,ei.jsx)(w.Eb,{assetId:"form-page.actions.long-audio-type"}),onClick:function(){return t_(H.AUDIO)}})]}),(0,ei.jsx)(_.L9_,{inline:!0,isBlack:C,children:(0,ei.jsx)(w.Eb,{assetId:"form-page.video-audio.support-prompt",includesHTML:!0})})]}):(0,ei.jsxs)(ei.Fragment,{children:[(0,ei.jsx)(_.__J,{isBlack:C,isFullscreen:k,children:(0,ei.jsx)(w.Eb,{assetId:"form-page.actions.answer-type-picker"})}),(0,ei.jsxs)(el.GH,{children:[-1!==eG.indexOf(H.VIDEO)&&(0,ei.jsx)(y.LE,{"aria-label":t("form-page.actions.video-type"),buttonRadius:S,"data-qa":"video-button",disabled:e_,icon:(0,ei.jsx)(y.rV,{}),label:t("form-page.actions.video-type"),onClick:function(){return t_(H.VIDEO)},scaleUp:j}),-1!==eG.indexOf(H.AUDIO)&&(0,ei.jsx)(y.LE,{"aria-label":t("form-page.actions.audio-type"),buttonRadius:S,"data-qa":"audio-button",disabled:e_,icon:(0,ei.jsx)(y.f4,{}),label:t("form-page.actions.audio-type"),onClick:function(){return t_(H.AUDIO)},scaleUp:O}),-1!==eG.indexOf(H.TEXT)&&(0,ei.jsx)(y.LE,{"aria-label":t("form-page.actions.text-type"),buttonRadius:S,"data-qa":"text-button",disabled:e_,icon:(0,ei.jsx)(y.VL,{}),label:t("form-page.actions.text-type"),onClick:function(){return t_(H.TEXT)}})]}),(0,ei.jsx)(_.L9_,{inline:!0,isBlack:C,isFullscreen:k,children:(0,ei.jsx)(w.Eb,{assetId:"form-page.video-audio.support-prompt",includesHTML:!0})})]}):null},tB=tw(),tZ=tB.isQuestionSectionVisible,tG=tB.isAnswerSectionVisible,tW=tB.areMobileActionsVisible;return(0,ei.jsxs)(el.fC,{children:[(0,ei.jsx)(_.igf,{percentComplete:x}),(0,ei.jsxs)(_.gYi,{children:[(0,ei.jsxs)(_.J5S,{className:"form-video-container",isHidden:!tZ,children:[tW&&(0,ei.jsx)(_.kCn,eu({},eV)),(ez=tW&&function(){var e=tx();if(I)return null;var i=n.allowed_answer_media_types,o=void 0===i?[H.VIDEO,H.AUDIO,H.TEXT]:i,s=n.metadata,l=(s=void 0===s?{}:s).voice_categories,c=s.voice_custom_fallback,u=s.voice_keyword_matching,p=n.poll_options,f=n.question_id;if(e_)return null;var m=(0,U.Gu)(n);if(m===H.LIVE_CALL)return(0,ei.jsx)(el.O3,{"data-testid":"media-player-actions-overlay",children:(0,ei.jsx)(ed.LiveCallWidget,{buttonRadius:S,isAnswerDisabled:e_,isFullscreen:k,isLargeViewport:d,onSubmit:M,onSwitchToKind:t_,questionOrMessage:n,shouldDisplayCTA:!0,t:t,teamAvailability:J})});if(m===H.VOICE)return(0,ei.jsx)(el.O3,{"data-testid":"media-player-actions-overlay",isFullscreen:k,voiceMobile:!0,children:(0,ei.jsx)(_.tN0,{branding:r,categories:void 0===l?[""]:l,contactToken:N,customFallback:void 0!==c&&c,isDataCollectionDisabled:a,keywordMatching:void 0!==u&&u,onError:tO,onPauseVideo:tj,onSubmit:M,questionId:f,transcriptionLocale:K})});if(p){var h=1===p.length;return(0,ei.jsx)(el.O3,{"data-testid":"media-player-actions-overlay",isReducedPadding:h,isWithoutPadding:!h,children:tF()})}return(0,U.Ru)(n)?(0,ei.jsx)(el.O3,{"data-testid":"media-player-actions-overlay",isReducedPadding:!0,children:tU()}):m!==H.CALENDAR||e?m===H.PAYMENT?(0,ei.jsx)(el.O3,{"data-testid":"media-player-actions-overlay",isReducedPadding:!0,children:(0,ei.jsx)(y.LE,{buttonRadius:S,disabled:e_,icon:(0,ei.jsx)(el.mC,{}),isLong:!0,label:(0,ei.jsx)(w.Eb,{assetId:"form-page.payment-form.buy-button"}),onClick:function(){return t_(H.TEXT)}})}):m===H.NPS?(0,ei.jsx)(el.O3,{"data-testid":"media-player-actions-overlay",isReducedPadding:!0,children:tV({isOverlay:!0})}):m===H.OPEN&&1===o.length&&e===H.TEXT?(0,ei.jsx)(el.O3,{"data-testid":"media-player-actions-overlay",isReducedPadding:!0,children:(0,ei.jsx)(_.drR,{allowedAnswerMediaTypes:o,isOverlay:!0,onCancel:tC,onSubmit:M})}):m===H.FILE_UPLOAD?(0,ei.jsx)(el.O3,{"data-testid":"media-player-actions-overlay",inheritHeight:!0,isReducedPadding:!0,children:(0,ei.jsx)("div",{children:tq({isLargeViewport:!1})})}):(o.length,null!==e?null:(0,ei.jsx)(el.O3,{"data-testid":"media-player-actions-overlay",isReducedPadding:!0,children:tM()})):(0,ei.jsx)(el.O3,{"data-testid":"media-player-actions-overlay",isReducedPadding:!0,children:(0,ei.jsx)(y.LE,{buttonRadius:S,disabled:e_,icon:(0,ei.jsx)(y.M0,{}),isLong:!0,label:(0,ei.jsx)(w.Eb,{assetId:"form-page.actions.calendar-type"}),onClick:function(){return t_(H.TEXT)}})})}(),eQ=n.media_url,eX=n.media_type,eK=n.media_id,eY=n.thumbnail,eJ=n.poll_options,e0=(e$=void 0===(e$=n.metadata)?{}:e$).darken_text_background,e1=e$.text,e2=e$.fit_video,e3=e$.media_vertical_alignment,e5=e$.media_horizontal_alignment,e6=tw().areMobileActionsVisible,e4=(0,U.d3)(e5,e3),e8=e6&&eJ&&eJ.length>3,(0,ei.jsx)(_.Syo,eu(eu({affiliateID:A,branding:r,darkenTextBackground:e0,fitVideo:e2,hideBranding:f,isLargeViewport:d,isRenderer:!0,mediaType:eX,mediaUrl:eQ,onVideoMount:eM,shouldOverlaySubtitles:e8,text:e1,theme:Y,thumbnail:eY},i),{},{customVideoPosition:e4,hideCaptionsPrePlayback:B,hidePlay:G,mediaId:eK,onHasPlayed:tS,onTimeUpdate:tD,onTimeUpdateTextFadeReveal:tL,onToggleSubtitles:tN,onUnmute:tT,onVideoEnded:tA,ref:tg,textFade:eT,textFadeDelayTime:v,textReveal:eR,textRevealDelayTime:b,title:ec?null:i.title,children:ez})))]}),(0,ei.jsxs)(_.J5S,{className:"form-answer-container",isHidden:!tG,children:[(0,ei.jsx)(_.kCn,eu({},eV)),F||(0,ei.jsxs)(ei.Fragment,{children:[(0,ei.jsx)(el.mh,{disabled:e_,children:(e7=tx(),e9=n.question_id,te=n.metadata,tt=(te=void 0===te?{}:te).custom_type,tn=te.calendly_url,ti=te.acuity_scheduling_url,tr=te.hubspot_meetings_url,to=te.schedule_once_url,ta=te.currency,ts=te.amount,tl=te.voice_categories,td=te.voice_custom_fallback,tc=te.voice_keyword_matching,tu=n.poll_options,tp=n.allowed_answer_media_types,tf=void 0===tp?[H.VIDEO,H.AUDIO,H.TEXT]:tp,tm=n.media_time_limit,th=Number.isInteger(tm||c)?1e3*(tm||c):void 0,eU?([H.VOICE,H.TEXT].includes(e7),(0,ei.jsx)(_._rn,{children:(0,ei.jsx)(_.tN0,{activated:"text"===e7,branding:r,categories:void 0===tl?[""]:tl,contactToken:N,customFallback:void 0!==td&&td,isDataCollectionDisabled:a,keywordMatching:void 0!==tc&&tc,onError:tO,onPauseVideo:tj,onSubmit:M,questionId:e9,transcriptionLocale:K})})):(0,U.DT)(tt)?(0,ei.jsx)(_.jq8,{acuitySchedulingUrl:ti,disabled:e_,onSubmit:M},ti):(0,U.hU)(tt)?(0,ei.jsx)(_.ArZ,{calendlyUrl:tn,contactInfo:L,disabled:e_,onSubmit:M},tn):(0,U.$z)(tt)?(0,ei.jsx)(_.WGL,{contactInfo:L,disabled:e_,hubspotMeetingsUrl:tr,onSubmit:M},tr):(0,U.vg)(tt)?(0,ei.jsx)(_.a1s,{contactInfo:L,disabled:e_,onSubmit:M,scheduleOnceUrl:to},to):(0,U.qt)(tt)?tV():(0,U.Yd)(n)?(0,ei.jsx)(_._rn,{children:(0,ei.jsx)(ed.LiveCallWidget,{buttonRadius:S,isAnswerDisabled:e_,isFullscreen:k,isLargeViewport:d,isLivePreview:$,onSubmit:M,onSwitchToKind:t_,questionOrMessage:n,shouldDisplayCTA:!e7,t:t,teamAvailability:J})}):(0,U.V7)(n)?tq({isLargeViewport:d}):(0,U.me)(n)?(0,ei.jsx)(_.KBU,{amount:ts,contactInfo:L,currency:ta,isDataCollectionDisabled:a,isLargeViewport:d,onSubmit:M,questionId:e9,stripeConnectedAccount:q}):tu?(0,ei.jsx)(_._rn,{children:tF()}):(0,U.Ru)(n)?(0,ei.jsx)(_._rn,{children:tU()}):e7===H.TEXT||e7===H.NUMBER?(0,ei.jsx)(_.drR,{allowedAnswerMediaTypes:tf,disabled:e_,onCancel:tf.length>1?tC:null,onSubmit:M}):e7===H.AUDIO?(0,ei.jsx)(_.hn8,{allowedAnswerMediaTypes:tf,branding:r,disableWebRTCTearDown:!0,disabled:e_,enabledWebRTC:V,forceRecTime:T,hideScreenshare:h,hideUpload:m,isLargeViewport:d,isRespondent:!0,isTelePromptVisible:eb,onCancel:tC,onStartRecording:tP,onSubmit:M,onTelePromptChange:tI,onTelePromptToggle:tE,t:t,telePromptValue:ex,timeLimit:th}):e7===H.VIDEO?(0,ei.jsx)(_.SBV,{allowedAnswerMediaTypes:tf,branding:r,disableWebRTCTearDown:!0,disabled:e_,enabledWebRTC:V&&!(0,E.w_X)(),forceRecTime:T,hideScreenshare:h,hideUpload:m,isRespondent:!0,isTelePromptVisible:eb,onCancel:tC,onOpenVideoInput:tP,onStartRecording:tP,onSubmit:M,onTelePromptChange:tI,onTelePromptToggle:tE,telePromptValue:ex,timeLimit:th}):(0,ei.jsx)(_.T09,{isCentered:!0,isReducedPadding:!0,isUnbranded:f,children:tM()}))}),e_&&Number.isInteger(eC)&&(0,ei.jsxs)(el.Q_,{children:[t("form-page.actions.time-to-interact",{seconds:eC}),"..."]})]})]})]})]})},ef=(0,_.I0S)((0,w.Nm)(ep)),em=n(83055);function eh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function eg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eh(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eh(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var eb=(i={},(0,r.Z)(i,F.xq,"form-page.errors.not-found"),(0,r.Z)(i,F.be,"form-page.errors.internal"),i),ev=function(e){(0,R.Z)(o,e);var t,n,i=(n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=(0,D.Z)(o);if(n){var i=(0,D.Z)(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return(0,A.Z)(this,e)});function o(){var e;(0,T.Z)(this,o);for(var t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=i.call.apply(i,[this].concat(n)),(0,r.Z)((0,k.Z)(e),"state",{}),(0,r.Z)((0,k.Z)(e),"getShouldUseBarebones",function(){var t=e.props,n=t.userAgent,i=t.avoidBarebones,r=t.embedType,o=t.form;return!!o&&!i&&r!==V.Z2&&(r===V.D6||!!(0,q.X2)(o)&&!!((0,V.cO)()||(0,q.VF)(o)&&(0,E.tXv)(n)||(0,q.X2)(o)&&(0,E.T_e)(n)))}),(0,r.Z)((0,k.Z)(e),"handleTrackEvent",function(t,n){var i=e.props,r=i.question,o=void 0===r?{}:r,a=i.isFormAuthor,s=i.form,l=void 0===s?{}:s,d=i.isPreview,c=i.contactId,u=o.question_id;a||d?console.log("[tracking:skipped] ".concat(t),n):(0,E.feQ)(t,l.author_id,eg(eg({},n),{},{user_type:P.Wg.RESPONDENT,form_share_id:l.share_id,form_id:l.form_id,contact_id:c,question_id:u,question_type:(0,U.Ee)(o)},(0,V.ch)()))}),(0,r.Z)((0,k.Z)(e),"handleSubmitAnswer",function(t){return(0,e.props.onSubmitQuestionAnswer)(t)}),(0,r.Z)((0,k.Z)(e),"renderContent",function(t){var n,i=e.props,r=i.screen,o=i.question,a=void 0===o?{}:o,s=i.questionOverlayText,l=i.percentComplete,d=i.questionIndex,c=i.hideBranding,u=i.branding,p=i.videoFirst,f=i.audioFirst,m=i.liveRecording,h=i.justVideo,g=i.forceRecTime,b=i.buttonRadius,v=i.globalTimeLimit,y=i.hideUpload,x=i.hideScreenshare,j=i.globalAnswerRevealDelayTime,O=i.showGoodbyeAd,P=i.contactInfo,C=void 0===P?{}:P,E=i.errorDetails,I=i.redirectUrl,T=i.loadErrorName,S=i.userAgent,k=i.isFormAuthor,R=i.embedType,A=i.formUrl,D=i.onPowerByAdClick,L=i.requiredContactFields,N=i.locale,F=i.defaultCountryCode,V=i.consentLabel,q=i.form,Z=i.stepAfterContactForm,G=i.onSubmitContactInfo,W=i.hideCaptionsPrePlayback,H=i.hidePlay,z=i.removeFileLimit,Q=i.globalMediaPlayerProps,X=i.isKiosk,K=i.affiliateID,Y=i.contactToken,J=i.isPreview,$=i.darkText,ee=i.overrides,et=i.contactId,en=i.teamAvailability,er=i.theme,eo=a.form_id,ea=a.question_id,es=a.metadata,el=(es=void 0===es?{}:es).answer_reveal_delay_time,ed=((null==q?void 0:q.metadata)||{}).transcription_locale,ec=C.name,eu=C.email,ep=C.phoneNumber,eh=eg(eg({},(0,U.Zj)(a,d,Q,ee)),{},{text:s,onPowerByAdClick:D});if(r===M.G.ERROR){return(0,ei.jsx)(_.CsX,{"data-qa":T,children:(0,ei.jsx)(w.Eb,{assetId:(n=T,n&&eb[n]||"form-page.errors.internal")})})}if(r===M.G.EMPTY_FORM)return(0,ei.jsx)(_.CsX,{children:"This VideoAsk doesn't have any questions yet."});if(r===M.G.LOADING);else if(e.getShouldUseBarebones())return(0,ei.jsx)(_.i0H,{buttonRadius:b,embedType:R,formId:eo,formUrl:A,isFormAuthor:k,isRenderer:!0,mediaPlayerProps:eh,userAgent:S});else if(r===M.G.GOODBYE)return(0,ei.jsx)(em.GoodbyeScreen,{contactId:et,form:q,isFormAuthor:k,showGoodbyeAd:O});else if(r===M.G.QUESTION||r===M.G.CONTACT_FORM){var ev=e.props.isFullscreen;return(0,ei.jsx)(_.q3N,{isFullscreen:ev,children:(0,ei.jsx)(ef,{affiliateID:K,answerRevealDelayTime:el||j,audioFirst:f,branding:u,buttonRadius:b,contactId:et,contactInfo:C,contactToken:Y,darkText:$,forceRecTime:g,form:q,formMetadata:q.metadata,globalTimeLimit:v,hideBranding:c,hideCaptionsPrePlayback:W,hidePlay:H,hideScreenshare:x,hideUpload:y,isDataCollectionDisabled:J,isKiosk:X,isLargeViewport:t,isPrivateForm:q.is_password_protected,justVideo:h,liveRecording:m,locale:N,mediaPlayerProps:eh,onSubmit:e.handleSubmitAnswer,onTrackEvent:e.handleTrackEvent,percentComplete:l,questionOrMessage:a,removeFileLimit:z,shouldAutoSelectKind:d>0,stripeConnectedAccount:q.stripe_connected_account,teamAvailability:en,theme:er,transcriptionLocale:ed||N||"en-US",videoFirst:p,children:r===M.G.CONTACT_FORM?(0,ei.jsx)(B.default,{buttonRadius:b,consentLabel:V,defaultCountryCode:F,email:eu,errorDetails:E,isLargeViewport:t,locale:N,name:ec,onSubmit:G,phoneNumber:ep,readOnlyFields:(0,U.Qo)(q),requiredContactFields:L,stepAfterContactForm:Z}):null},ea)})}else if(r===M.G.UPLOADING)return(0,ei.jsx)(_.a_T,{hideBranding:c||!!u,percentComplete:l,title:(0,ei.jsx)(w.Eb,{assetId:"form-page.uploading-screen.title"}),children:I?(0,ei.jsxs)(ei.Fragment,{children:[(0,ei.jsx)("p",{children:(0,ei.jsx)(w.Eb,{assetId:"form-page.uploading-screen.description-uploading"})}),(0,ei.jsx)("p",{children:(0,ei.jsx)("strong",{children:(0,ei.jsx)(w.Eb,{assetId:"form-page.uploading-screen.leaving-warning"})})}),(0,ei.jsxs)("p",{children:[(0,ei.jsx)(w.Eb,{assetId:"form-page.uploading-screen.description-redirect-part-0"}),"\xa0",(0,ei.jsx)("a",{href:I,rel:"noopener noreferrer",target:"_blank",children:(0,ei.jsx)(w.Eb,{assetId:"form-page.uploading-screen.description-redirect-part-1-link"})}),"\xa0",(0,ei.jsx)(w.Eb,{assetId:"form-page.uploading-screen.description-redirect-part-2"})]})]}):(0,ei.jsxs)(ei.Fragment,{children:[(0,ei.jsx)("p",{children:(0,ei.jsx)(w.Eb,{assetId:"form-page.uploading-screen.description-uploading"})}),(0,ei.jsx)("p",{children:(0,ei.jsx)("strong",{children:(0,ei.jsx)(w.Eb,{assetId:"form-page.uploading-screen.leaving-warning"})})})]})});else if(r===M.G.REDIRECTING)return(0,ei.jsx)(_.a_T,{hideBranding:c||!!u,percentComplete:l,title:(0,ei.jsx)(w.Eb,{assetId:"form-page.redirecting-screen.title"})});return(0,ei.jsx)(_.a_T,{hideBranding:c||!!u})}),e}return(0,S.Z)(o,[{key:"render",value:function(){var e=this.props,t=e.screen,n=e.showGoodbyeAd,i=e.theme,r=e.isFullscreen;return(0,ei.jsx)(y.xR,{fontFamily:i.fontFamily,isFullHeight:!(t===M.G.GOODBYE&&n),role:"main",children:(0,ei.jsx)(_.R3Q,{onTrackEvent:this.handleTrackEvent,children:r?this.renderContent(!1):(0,ei.jsx)(N(),{minWidth:1024,children:this.renderContent})})})}}]),o}(l.Component),ey=n(37683),ex=n(65590),ew=n(16353),ej=n(36657),e_=n(68940),eO=n(42218),eP=n(34831);function eC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function eE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var eI=f()(function(){return n.e(826).then(n.bind(n,9826))},{ssr:!1,loadableGenerated:{webpack:function(){return[9826]}}}),eT="cubic-bezier(0.86, 0, 0.07, 1)",eS=b.ZP.div.withConfig({displayName:"DeprecatedSharedFormContent__TransitionWrapper",componentId:"sc-1mgsapa-0"})(["height:100%;> div{height:100%;}.question-transition-leave{transform:translateY(0);}.question-transition-leave.question-transition-leave-active{transform:translateY(-100%);transition:transform ","ms ",";}.question-transition-enter{transform:translateY(100%);}.question-transition-enter.question-transition-enter-active{transform:translateY(0);transition:transform ","ms ",";}.question-transition-height{transition:height 0.5s ",";}"],750,eT,750,eT,eT),ek=b.ZP.div.withConfig({displayName:"DeprecatedSharedFormContent__ExpiredForm",componentId:"sc-1mgsapa-1"})(["align-items:center;backdrop-filter:blur(10px);background:rgba(0,0,0,0.5);bottom:0;color:white;display:flex;flex-direction:column;height:100%;justify-content:center;left:0;position:absolute;right:0;top:0;width:100%;z-index:",";span{margin-bottom:24px;}a{color:white;}div{font-size:20px;line-height:130%;margin:0 auto;max-width:70%;text-align:center;}"],v.Ue.popovers),eR=b.ZP.div.withConfig({displayName:"DeprecatedSharedFormContent__SnowWrapper",componentId:"sc-1mgsapa-2"})(["height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%;z-index:",";"],v.Ue.level4),eA=b.ZP.div.withConfig({displayName:"DeprecatedSharedFormContent__PreviewModeBanner",componentId:"sc-1mgsapa-3"})(["background-color:",";color:white;font-family:",";font-size:12px;left:0;padding:8px;position:fixed;right:0;text-align:center;top:0;z-index:",";",""],u()(v.O9.purple).alpha(.6).toString(),v.Rq.apercu,v.Ue.notifications,function(e){return!e.isGoodbyeScreen&&(0,b.iv)(["@media (min-width:1025px){left:50%;}"])}),eD=function(e){var t,n,i,o=e.theme,a=void 0===o?v.uH:o,s=e.onLoad,d=e.form,c=e.isPreview,u=e.skipRedirect,p=e.formUrl,f=e.isFormAuthor,g=e.contactId,x=e.onFirstInteraction,_=e.showGoodbyeAd,T=e.question,S=e.locale,k=e.hidePreviewBanner,R=e.twitterPlayerUrl,A=e.shouldLinkCanonical,D=e.canonicalUrl,L=e.isKiosk,N=e.letItSnow,F=e.hasPaymentQuestion,V=e.screen,q=e.jsonLd,U=e.loadErrorName,B=e.hideBranding,Z=e.darkText,G=e.isFullscreen,W=e.branding,H=e.justVideo,z=e.stepAfterContactForm,Q=e.forceRecTime,X=e.hideUpload,K=e.contactToken,Y=e.contactInfo,J=e.hideScreenshare,$=e.globalAnswerRevealDelayTime,ee=e.userAgent,et=e.currentUserId,en=e.hideCaptionsPrePlayback,er=e.requiredContactFields,eo=e.hidePlay,ea=e.globalMediaPlayerProps,es=e.affiliateID,el=e.onSubmitQuestionAnswer,ed=e.onSubmitContactInfo,ec=e.removeFileLimit,eu=e.teamAvailability,ep=e.questionOverlayText,ef=e.percentComplete,em=e.questionIndex,eh=e.globalTimeLimit,eg=e.videoFirst,eb=e.audioFirst,ew=e.liveRecording,ej=e.buttonRadius,e_=e.errorDetails,eT=e.redirectUrl,eD=e.defaultCountryCode,eL=e.consentLabel,eN=e.overrides,eF=(0,l.useState)(!1),eV=eF[0],eq=eF[1];(0,l.useEffect)(function(){if(d)try{new PerformanceObserver(function(e){var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return eE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eE(e,t)}}(e))){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(e.getEntries());try{for(n.s();!(t=n.n()).done;){var i=t.value,r=i.name,o=Math.round(i.startTime+i.duration);(0,E.feQ)(P.zR.TMP_USE_FEATURE,d.author_id,{feature:"renderer_performance",label:r,item:"NA",test_id:"current_renderer",value:o.toString(),form_share_id:d.share_id,form_id:d.form_id})}}catch(a){n.e(a)}finally{n.f()}}).observe({entryTypes:["paint"]})}catch(e){console.error(e)}if((0,eP.b2)(u,window.navigator.userAgent)){var t=(0,eP.PA)(p,window.location.host,window.location.hash);window.location=t}return window.addEventListener("click",x,{once:!0}),s(null==d?void 0:d.share_id,d,c,f),function(){window.removeEventListener("click",x)}},[]);var eU,eM,eB,eZ=function(e,t){(0,E.feQ)(e,d.author_id,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eC(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eC(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({renderer_type:"form",form_id:d.form_id,form_share_id:d.share_id,user_type:P.Wg.RESPONDENT,contact_id:g},t))},eG=function(e,t){t||(e&&e.preventDefault(),eq(!0)),eZ(P.Iy.ITEM_CLICKED,{item:"powered_by",item_type:"button"})},eW=function(){return eq(!1)},eH=d&&(d.hide_branding||!!d.branding),ez=null!=d&&null!==(t=d.branding)&&void 0!==t&&t.custom_domain&&null!=d&&null!==(n=d.branding)&&void 0!==n&&n.favicon_url?null==d?void 0:null===(i=d.branding)||void 0===i?void 0:i.favicon_url:"",eQ=C.e.isExpired(d),eX=!c&&C.e.isUnpublished(d);return(0,ei.jsx)(b.f6,{theme:a,children:(0,ei.jsx)(w.NI,{customLanguage:null==d?void 0:d.custom_language,locale:S,children:(0,ei.jsxs)(ei.Fragment,{children:[(0,ei.jsxs)(I.N,{canonicalUrl:D,customFavicon:ez,hideBranding:eH,imageUrl:(0,eO.getFormSocialImageWithPlayButton)(d),isKiosk:L,jsonLd:q,shouldLinkCanonical:A,socialDescription:eH?void 0:"Powered by VideoAsk - Build instant trust, put a face on your brand, and have more personal interactions at scale.",title:d?d.title:void 0,twitterPlayerUrl:R,children:[A&&d&&(0,ei.jsx)("link",{href:"".concat((0,j.kG)(),"/oembed?url=").concat(escape(d.share_url),"&format=json"),rel:"alternate",title:"".concat(d.title," oEmbed Profile"),type:"application/json+oembed"}),F&&(0,ei.jsx)("script",{async:!0,id:"stripe-js",src:"https://js.stripe.com/v3/"})]}),d&&(0,ei.jsx)(ex.Z,{form:d}),c&&!k&&(0,ei.jsx)(eA,{isGoodbyeScreen:V===M.G.GOODBYE,children:"You're in preview mode, answers won't be submitted"}),N&&(0,ei.jsx)(eR,{children:(0,ei.jsx)(eI,{})}),eQ&&!eX&&(0,ei.jsxs)(ek,{children:[(0,ei.jsx)(y.dy,{fontSize:"250%",label:"closed emoji",symbol:"\uD83D\uDE45"}),(0,ei.jsx)(h.ZP,{properties:{target:"_blank",rel:"noopener noreferrer"},children:(0,ei.jsx)("div",{children:d.metadata.schedule_close_date_message||(0,ei.jsx)(w.Eb,{assetId:"form-page.form-expired"})})})]}),eX?(0,ei.jsx)(O.x,{}):(eU=null==T?void 0:T.question_id,eM=C.e.isExpired(d),eB=(0,ei.jsx)(ev,{affiliateID:es,audioFirst:eb,branding:W,buttonRadius:ej,consentLabel:eL,contactId:g,contactInfo:Y,contactToken:K,currentUserId:et,darkText:Z,defaultCountryCode:eD,errorDetails:e_,forceRecTime:Q,form:d,formUrl:p,globalAnswerRevealDelayTime:$,globalMediaPlayerProps:ea,globalTimeLimit:eh,hideBranding:B,hideCaptionsPrePlayback:en,hidePlay:eo,hideScreenshare:J,hideUpload:X,isFullscreen:G,isPreview:c,justVideo:H,liveRecording:ew,loadErrorName:U,locale:S,onPowerByAdClick:eG,onSubmitContactInfo:ed,onSubmitQuestionAnswer:el,overrides:eN,percentComplete:ef,question:T,questionIndex:em,questionOverlayText:ep,redirectUrl:eT,removeFileLimit:ec,requiredContactFields:er,screen:V,showGoodbyeAd:_,stepAfterContactForm:z,teamAvailability:eu,theme:a,userAgent:ee,videoFirst:eg},eU),eU?(0,ei.jsx)(eS,{isFormExpired:eM,children:(0,ei.jsx)(m.Z,{transitionEnterTimeout:750,transitionLeaveTimeout:750,transitionName:"question-transition",children:eB})}):eB),eV?(0,ei.jsx)(ey.PoweredByAd,{contactId:g,formAuthorId:d.author_id,formId:d.form_id,formShareId:d.share_id,isFormAuthor:f,isPreview:c,onClose:eW}):null]})})})},eL=function(e){return{title:(0,M.yb)(e),screen:(0,M.CL)(e),question:(0,M.G7)(e),questionOverlayText:(0,M.qD)(e),percentComplete:(0,M.kb)(e),questionsCount:(0,M.Ow)(e),questionIndex:(0,M.Pi)(e),errorDetails:(0,M.rS)(e),contactId:(0,M.xQ)(e),contactToken:(0,M.H4)(e),contactInfo:(0,M.lC)(e),redirectUrl:(0,M.B8)(e),requiredContactFields:(0,M.n)(e),defaultCountryCode:(0,M.rM)(e),consentLabel:(0,M.en)(e),stepAfterContactForm:(0,M.CL)(e)===M.G.CONTACT_FORM?(0,M.F0)(e):null}},eN=(0,g.$j)(eL,{onLoad:e_.ZP,onSubmitQuestionAnswer:ew.Z,onSubmitContactInfo:ej.Z,onFirstInteraction:_.dmn})(eD),eF=n(67372);function eV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function eq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eV(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eV(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var eU=!0,eM=function(e){var t=(0,l.useState)(""),n=t[0],i=t[1],r=(0,l.useState)(!1),a=r[0],c=r[1],u=(0,l.useState)(e.form),p=u[0],f=u[1],m=(0,l.useCallback)((0,o.Z)(s().mark(function t(){var i;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,d.SG)(e.shareId,n);case 3:f(t.sent),c(!1),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),401===t.t0.status&&n&&c(!0);case 11:case"end":return t.stop()}},t,null,[[0,8]])})),[n,e.shareId]);(0,l.useEffect)(function(){n&&m()},[n,m]);var h=e.isLockedForm,g=e.isHiddenBranding,b=e.branding,v=e.theme,y=e.shareId,x=e.organizationName;return p||!h?(0,ei.jsx)(eN,eq(eq({},e),{},{form:p})):(0,ei.jsx)(eF.PrivateSharedView,{branding:b,isHiddenBranding:g,isWrongPassword:a,onSubmit:i,organizationName:x,removeErrorWarning:function(){return c(!1)},shareId:y,theme:v})}},67372:function(e,t,n){"use strict";n.r(t),n.d(t,{Card:function(){return I},PrivateSharedView:function(){return D}});var i=n(9008),r=n.n(i),o=n(2784),a=n(35505),s=n(758),l=n(88575),d=n(31079),c=n(71346),u=n.n(c),p=n(58086),f=n(254),m=n(38455),h=n(59499),g=n(4730),b=n(52322),v=["className","noBorder","errorMessage"];function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach(function(t){(0,h.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var w=a.ZP.div.withConfig({displayName:"Input__Wrapper",componentId:"sc-18tu62v-0"})(["width:100%;margin-bottom:","px;:nth-child(1){margin-top:0;}"],function(e){return e.noBorder?0:16}),j=(0,a.iv)(["font-family:",";font-weight:300;border:none;border-radius:0;border-bottom:1px solid rgba(0,0,0,0.1);-webkit-appearance:none;line-height:22px;font-size:20px;background:transparent;padding:12px 0;color:black;outline:none;width:100%;::placeholder{color:rgba(0,0,0,0.25);}:focus{border-bottom:1px solid ",";}"],d.fonts.favorit,d.colors.brightPurple),_=a.ZP.input.withConfig({displayName:"Input__InputField",componentId:"sc-18tu62v-1"})(["",";border:",";&:focus{border:",";}"],j,function(e){return e.noBorder&&"none"},function(e){return e.noBorder&&"none"}),O=a.ZP.div.withConfig({displayName:"Input__ErrorMessage",componentId:"sc-18tu62v-2"})(["color:",";font-size:12px;"],d.colors.red),P=o.forwardRef(function(e,t){var n=e.className,i=e.noBorder,r=e.errorMessage,o=(0,g.Z)(e,v);return(0,b.jsxs)(w,{className:n,noBorder:i,children:[(0,b.jsx)(_,x(x({noBorder:i},o),{},{ref:t})),r&&(0,b.jsx)(O,{children:r})]})}),C=n(37683),E=n(46950),I=a.ZP.div.withConfig({displayName:"PrivateSharedView__Card",componentId:"sc-sy46ay-0"})(["align-items:",";background:",";border-radius:12px;box-shadow:",";display:flex;flex-direction:",";justify-content:space-between;margin:0 32px 32px 0;padding:48px;width:100%;"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," @media (max-width:450px){padding:24px;overflow-wrap:break-word;}"],function(e){return e.isRow&&"center"},function(e){return e.isPurpleCard?d.colors.purpleTranslucid:d.colors.white},function(e){return e.isBoxShadow?"0 10px 30px 0 rgb(0 0 0 / 10%)":"none"},function(e){return e.isRow?"row":"column"},function(e){return e.hasError&&(0,a.iv)(["border:1px solid ",";"],d.colors.red)},function(e){return e.relative&&(0,a.iv)(["position:relative;"])},function(e){return e.fadeIn&&(0,a.iv)(["animation:"," 0.4s ease-in-out;"],p.Uo)},function(e){return e.disabled&&(0,a.iv)(["opacity:0.4;"])},function(e){return e.isOverlap&&(0,a.iv)(["margin-top:-8px;"])},function(e){return e.isButtonCard&&(0,a.iv)(["margin:6px 0 !important;padding:16px;"])},function(e){return e.isLessTight&&(0,a.iv)(["padding:32px;"])},function(e){return e.isConnect&&(0,a.iv)(["margin:0 0 16px 0;padding:8px 24px;"])},function(e){return e.isTight&&(0,a.iv)(["margin:0 16px 16px 0;padding:8px 16px;@media (max-width:450px){padding:8px 16px !important;}"])},function(e){return e.addMarginTop&&(0,a.iv)(["margin-top:16px;"])},function(e){return e.maxWidth&&(0,a.iv)(["@media (min-width:1024px){max-width:600px;}"])},function(e){return e.isReducedMarginBottom&&(0,a.iv)(["margin-bottom:16px;"])},function(e){return e.removePadding&&(0,a.iv)(["padding:0 !important;"])},function(e){return e.isWebhookItem&&(0,a.iv)(["cursor:pointer;padding:24px;transition:all 0.3s ease-in-out;:hover{background:",";color:",";}"],d.colors.buttonGrey,d.colors.black)},function(e){return e.isSelected&&(0,a.iv)(["background:#23241f;color:white;pointer-events:none;}"])},function(e){return e.center&&(0,a.iv)(["align-items:center;height:100%;justify-content:center;margin:0px;@media (max-height:600px){justify-content:flex-start;overflow:auto;padding:16px !important;}"])},function(e){return e.focusBorderColor&&(0,a.iv)([":focus-within{box-shadow:0 0 0 2px ",";}"],e.focusBorderColor)}),T=a.ZP.div.withConfig({displayName:"PrivateSharedView__PrivateFormWrapper",componentId:"sc-sy46ay-1"})(["align-items:center;display:flex;flex-direction:column;height:100%;margin:0;padding:0;position:relative;width:100%;"]),S=(0,a.ZP)(p.Mv).withConfig({displayName:"PrivateSharedView__EnterPasswordIcon",componentId:"sc-sy46ay-2"})(["cursor:pointer;transform:rotateY(180deg);width:25px;"]),k=a.ZP.div.withConfig({displayName:"PrivateSharedView__PasswordWrapper",componentId:"sc-sy46ay-3"})(["display:flex;flex-direction:column;height:85%;justify-content:center;min-width:28%;text-align:center;h2{color:",";margin-bottom:30px;}"],function(e){return e.textColor}),R=(0,a.ZP)(s.Z).withConfig({displayName:"PrivateSharedView__CustomMessageBox",componentId:"sc-sy46ay-4"})(["align-items:center;display:flex;flex-direction:row;font-family:",";font-weight:bold;height:40px;justify-content:flex-start;"],d.fonts.favorit),A=a.ZP.div.withConfig({displayName:"PrivateSharedView__BrandWrapper",componentId:"sc-sy46ay-5"})(["align-items:center;cursor:pointer;display:flex;flex-direction:row;justify-content:space-evenly;min-width:180px;"]),D=function(e){var t,n=e.onSubmit,i=e.isWrongPassword,a=e.removeErrorWarning,s=e.organizationName,c=e.theme,h=e.isHiddenBranding,g=void 0!==h&&h,v=e.branding,y=e.shareId,x=(0,o.useState)(""),w=x[0],j=x[1],_=(0,o.useState)(!1),O=_[0],D=_[1],L=(0,l.useTranslator)().t;(0,o.useEffect)(function(){(0,m.feQ)(f.Iy.POPUP_OPENED,"NA",{popup:"private_code",label:"paid",user_type:f.Wg.RESPONDENT,form_share_id:y})},[]);var N=function(e){"Enter"===e.key&&w&&F(),"Backspace"===e.code&&a()},F=function(){n(w)},V=function(e){j(e.target.value)},q=function(){(0,m.feQ)(f.Iy.ITEM_CLICKED,"NA",{item:"viral_private_code",item_type:"logo",label:"paid",location:"private_code_popup",user_type:f.Wg.RESPONDENT,form_share_id:y}),D(!0)},U=g?s:(null==v?void 0:v.name)||"Videoask",M=(t=c.background,["#ffffff","#fff"].includes(null==t?void 0:t.toLowerCase()));return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(r(),{children:(0,b.jsx)("title",{children:U})}),(0,b.jsx)(p.xR,{backgroundColor:c.background,children:O?(0,b.jsx)(C.PoweredByAd,{formShareId:y,onClose:function(){return D(!1)}}):(0,b.jsxs)(T,{children:[(0,b.jsxs)(k,{textColor:c.foreground,children:[(0,b.jsxs)("h2",{children:[L("form-page.password-input-label"),":"]}),(0,b.jsxs)(I,{"aria-label":"Password container",focusBorderColor:u()(c.background).luminosity()>.5?d.colors.brightPurple:d.colors.lightPurple,isBoxShadow:!M,isPurpleCard:M,isRow:!0,isTight:!0,children:[(0,b.jsx)(P,{noBorder:!0,onChange:V,onKeyDown:N,placeholder:"Password",required:!0,type:"password",value:w}),w&&(0,b.jsx)(S,{onClick:F})]}),i&&w&&(0,b.jsx)(R,{description:L("form-page.password-input-error"),kind:"warning"})]}),!g&&(v?(0,b.jsx)("a",{"aria-label":"".concat(null==v?void 0:v.name," link"),href:null==v?void 0:v.branding_url,target:"blank",children:(0,b.jsx)(E.Oc,{alt:null==v?void 0:v.name,src:null==v?void 0:v.logo_url,title:null==v?void 0:v.name})}):(0,b.jsx)(A,{"aria-label":"Videoask logo",onClick:q,children:(0,b.jsx)(E.Y0,{color:c.foreground})}))]})})]})}},52959:function(e,t,n){"use strict";n.r(t),n.d(t,{LiveCallWidget:function(){return f}});var i=n(31079),r=n(36646),o=n(59499),a=n(17635),s=n(28599),l=n(79665);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var u=function(e,t){var n=(0,a.I0)(),o=(0,a.oR)().getState(),d=(0,s.xQ)(o),u=(0,s.H4)(o),p=e.question_id,f=(0,a.v9)(function(t){var n;return((null===(n=t.sharing_form)||void 0===n?void 0:n.answers)||{})[e.question_id]||null}),m=function(e){return{questionId:p,contactId:d,metadata:{live_call:{state:e}},mediaType:i.LIVE_CALL}},h=function(i,o){var a=m(i);return(t?(0,r.yam)(e)(p,a):o()).then(function(e){n((0,s.Kk)(p)),n((0,s.OS)(p,c(c({},e),{},{answer_type:e.type||e.media_type})))})};return{answer:f,submitAnswerInProgress:function(e){var t=m(e);return h(e,function(){return(0,l.yX)(c(c({},t),{},{contactToken:u}))})}}},p=n(52322),f=function(e){var t=e.t,n=e.questionOrMessage,o=e.shouldDisplayCTA,a=e.buttonRadius,s=e.teamAvailability,l=e.onSubmit,d=e.onSwitchToKind,c=e.isFullscreen,f=e.isLargeViewport,m=e.isAnswerDisabled,h=e.isLivePreview,g=(0,r.uL6)(),b=(0,r.Sw6)({question:n,isLivePreview:h}).shouldMockResponses,v=u(n,b),y=v.answer,x=v.submitAnswerInProgress,w=function(){d((n.allowed_answer_media_types||[i.LIVE_CALL])[0]||i.LIVE_CALL)},j=function(){return w()};return null!=s&&s.is_team_on_holidays||null!=s&&s.is_team_out_of_working_hours?(0,p.jsx)(r.k0Q,{isFullscreen:c,isLargeViewport:f,onSkip:l,teamAvailability:s}):o?(0,p.jsx)(r.qzz,{buttonRadius:a,defaultCTALabel:t("form-page.live-call.cta"),defaultRejectLabel:t("form-page.live-call.rejection"),disabled:m,isFullscreen:c,isRespondent:!0,onAccept:j,onReject:l,onSubmitAnswerInProgress:x,questionOrMessage:n}):(0,p.jsx)(r.kQZ,{answer:y,buttonRadius:a,disabled:m,isRespondent:!0,onSubmit:l,peerUser:g,questionOrMessage:n,shouldMockResponses:b})}},87012:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sharing/form",function(){return n(46134)}])}},function(e){e.O(0,[182,264,265,722,408,349,55,774,888,179],function(){return e(e.s=87012)}),_N_E=e.O()}]);